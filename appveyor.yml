environment:
  PYTHON: "C:\\Python35"
  PYTHON_VERSION: 3.5
  PYTHON_ARCH: "32"

init:
  - "ECHO %PYTHON% %PYTHON_VERSION% %PYTHON_ARCH%"

install:
  - "SET PATH=%PYTHON%;%PYTHON%\\Scripts;%PATH%"
  - "python -m pip install -U pip setuptools"
  - "pip install -r requirements-dev.txt -r requirements.txt"
  - "pip install cx_freeze"

test_script:
  - "pip install -e ."


after_test:
  - "mkdir svtplay-dl"
  - "python %PYTHON%\\Scripts\\cxfreeze --include-modules=queue,idna.idnadata --target-dir=svtplay-dl bin/svtplay-dl"
  - "svtplay-dl\\svtplay-dl.exe --version"
  - "7z.exe a -tzip svtplay-dl.zip svtplay-dl"

artifacts:
  - path: svtplay-dl.zip
    name: svtplay-dl

build: off